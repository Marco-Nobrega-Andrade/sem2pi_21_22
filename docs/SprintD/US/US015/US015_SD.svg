<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="886px" preserveAspectRatio="none" style="width:2174px;height:886px;background:#FFFFFF;" version="1.1" viewBox="0 0 2174 886" width="2174px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="693.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="62" y="92.6094"/><rect fill="#FFFFFF" height="671.0313" style="stroke:#181818;stroke-width:1.0;" width="10" x="327" y="114.9609"/><rect fill="#FFFFFF" height="37.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="732" y="718.2891"/><rect fill="#FFFFFF" height="467.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="903.5" y="327.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1089.5" y="327.4219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1089.5" y="388.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1089.5" y="448.4766"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1487.5" y="534.1797"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="2057.5" y="564.5313"/><rect height="139.7578" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1394" x="774" y="493.4766"/><rect height="48.7031" style="stroke:#000000;stroke-width:1.5;fill:none;" width="567" x="217" y="677.5859"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="82.6094" y2="803.9922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="332" x2="332" y1="82.6094" y2="803.9922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="737" x2="737" y1="82.6094" y2="803.9922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="908" x2="908" y1="82.6094" y2="803.9922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1094.5" x2="1094.5" y1="82.6094" y2="803.9922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1492" x2="1492" y1="82.6094" y2="803.9922"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2062" x2="2062" y1="82.6094" y2="803.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="5" y="79.5332">CenterCoordinator</text><ellipse cx="67" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M67,21.5 L67,48.5 M54,29.5 L80,29.5 M67,48.5 L54,63.5 M67,48.5 L80,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="5" y="817.5254">CenterCoordinator</text><ellipse cx="67" cy="829.1016" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M67,837.1016 L67,864.1016 M54,845.1016 L80,845.1016 M67,864.1016 L54,879.1016 M67,864.1016 L80,879.1016 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="210" x="227" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="234" y="71.5332">:ExportVaccinationStatisticsGUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="210" x="227" y="802.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="234" y="824.5254">:ExportVaccinationStatisticsGUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="700" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="707" y="71.5332">:WriteFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="700" y="802.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="707" y="824.5254">:WriteFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="784" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235" x="791" y="71.5332">:ExportVaccinationStatisticsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="249" x="784" y="802.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235" x="791" y="824.5254">:ExportVaccinationStatisticsController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1055.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1062.5" y="71.5332">:Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="1055.5" y="802.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="1062.5" y="824.5254">:Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1452" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1459" y="71.5332">:UserStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1452" y="802.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1459" y="824.5254">:UserStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="1967" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="1974" y="71.5332">:VaccineAdministrationStore</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="1967" y="802.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="1974" y="824.5254">:VaccineAdministrationStore</text><rect fill="#FFFFFF" height="693.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="62" y="92.6094"/><rect fill="#FFFFFF" height="671.0313" style="stroke:#181818;stroke-width:1.0;" width="10" x="327" y="114.9609"/><rect fill="#FFFFFF" height="37.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="732" y="718.2891"/><rect fill="#FFFFFF" height="467.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="903.5" y="327.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1089.5" y="327.4219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1089.5" y="388.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1089.5" y="448.4766"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1487.5" y="534.1797"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="2057.5" y="564.5313"/><polygon fill="#181818" points="315,110.9609,325,114.9609,315,118.9609,319,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72" x2="321" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="79" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="90" y="110.1045">Asks to export vaccination statistics.</text><polygon fill="#181818" points="83,141.3125,73,145.3125,83,149.3125,79,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="77" x2="326" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="89" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="100" y="140.4561">Requests the start date of the interval.</text><polygon fill="#181818" points="315,171.6641,325,175.6641,315,179.6641,319,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72" x2="321" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="79" y="170.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="90" y="170.8076">Inserts the start date interval.</text><polygon fill="#181818" points="83,202.0156,73,206.0156,83,210.0156,79,206.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="77" x2="326" y1="206.0156" y2="206.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="89" y="201.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="100" y="201.1592">Requests the end date of the interval.</text><polygon fill="#181818" points="315,232.3672,325,236.3672,315,240.3672,319,236.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72" x2="321" y1="236.3672" y2="236.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="79" y="231.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="90" y="231.5107">Inserts the end date interval.</text><polygon fill="#181818" points="83,262.7188,73,266.7188,83,270.7188,79,266.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="77" x2="326" y1="266.7188" y2="266.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="89" y="261.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="100" y="261.8623">Requests the path to CSV file.</text><polygon fill="#181818" points="315,293.0703,325,297.0703,315,301.0703,319,297.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72" x2="321" y1="297.0703" y2="297.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="79" y="292.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="90" y="292.2139">Inserts path to the file.</text><polygon fill="#181818" points="891.5,323.4219,901.5,327.4219,891.5,331.4219,895.5,327.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337" x2="897.5" y1="327.4219" y2="327.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="344" y="322.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="392" x="355" y="322.5654">getUsersFullyVaccinatedOnIntervalAndCenter(Date start, Date end).</text><polygon fill="#181818" points="1082.5,353.7734,1092.5,357.7734,1082.5,361.7734,1086.5,357.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="913.5" x2="1088.5" y1="357.7734" y2="357.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="920.5" y="352.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="931.5" y="352.917">getUserStore().</text><polygon fill="#181818" points="1077.5,384.125,1087.5,388.125,1077.5,392.125,1081.5,388.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="913.5" x2="1083.5" y1="388.125" y2="388.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="920.5" y="383.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="938.5" y="383.2686">getHealthRecordStore().</text><polygon fill="#181818" points="1077.5,444.4766,1087.5,448.4766,1077.5,452.4766,1081.5,448.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="913.5" x2="1083.5" y1="448.4766" y2="448.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="920.5" y="443.6201">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="938.5" y="443.6201">getActorCenter</text><path d="M774,493.4766 L847,493.4766 L847,501.8281 L837,511.8281 L774,511.8281 L774,493.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="139.7578" style="stroke:#000000;stroke-width:1.5;" width="1394" x="774" y="493.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="789" y="507.9717">loop</text><polygon fill="#181818" points="1475.5,530.1797,1485.5,534.1797,1475.5,538.1797,1479.5,534.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="913.5" x2="1481.5" y1="534.1797" y2="534.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="920.5" y="529.3232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="537" x="938.5" y="529.3232">findUserFullyVaccinatedOnIntervalAndCenter(Date start, Date end, VaccinationCenter center)</text><polygon fill="#181818" points="2045.5,560.5313,2055.5,564.5313,2045.5,568.5313,2049.5,564.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1497.5" x2="2051.5" y1="564.5313" y2="564.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1504.5" y="559.6748">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="523" x="1522.5" y="559.6748">VerifyFullyVaccinatedOnIntervalAndCenter(Date start, Date end, VaccinationCenter center)</text><polygon fill="#181818" points="1508.5,590.8828,1498.5,594.8828,1508.5,598.8828,1504.5,594.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1502.5" x2="2056.5" y1="594.8828" y2="594.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1514.5" y="590.0264">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1532.5" y="590.0264">dateLastAdministration : Date</text><polygon fill="#181818" points="924.5,621.2344,914.5,625.2344,924.5,629.2344,920.5,625.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="918.5" x2="1491.5" y1="625.2344" y2="625.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="930.5" y="620.3779">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="948.5" y="620.3779">returnList : List&lt;Date&gt;</text><polygon fill="#181818" points="348,658.5859,338,662.5859,348,666.5859,344,662.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="342" x2="902.5" y1="662.5859" y2="662.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="354" y="657.7295">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="372" y="657.7295">dateAndNumberFullyVaccinated : List&lt;String&gt;</text><path d="M217,677.5859 L290,677.5859 L290,685.9375 L280,695.9375 L217,695.9375 L217,677.5859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="567" x="217" y="677.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="232" y="692.0811">loop</text><polygon fill="#181818" points="720,714.2891,730,718.2891,720,722.2891,724,718.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337" x2="726" y1="718.2891" y2="718.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="344" y="713.4326">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="362" y="713.4326">writeFile.WriteToFile(string : DateAndNumberFullyVaccinated)</text><polygon fill="#181818" points="348,751.6406,338,755.6406,348,759.6406,344,755.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="342" x2="736" y1="755.6406" y2="755.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="354" y="750.7842">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="372" y="750.7842">informs export success</text><polygon fill="#181818" points="78,781.9922,68,785.9922,78,789.9922,74,785.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="72" x2="331" y1="785.9922" y2="785.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="84" y="781.1357">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="102" y="781.1357">Informs operation success.</text><!--MD5=[dacf7d3f1686981d9faf20d5cc78cae7]
@startuml
'https://plantuml.com/sequence-diagram

autonumber


actor "CenterCoordinator" as COORD

participant ":ExportVaccinationStatisticsGUI" as UI
participant ":WriteFile" as WF
participant ":ExportVaccinationStatisticsController" as CTRL
participant ":Company" as COMP
participant ":UserStore" as US
participant ":VaccineAdministrationStore" as HRS

activate COORD

"COORD" -> UI: Asks to export vaccination statistics.

activate UI
"COORD" <- - UI : Requests the start date of the interval.
"COORD" -> UI: Inserts the start date interval.
"COORD" <- - UI : Requests the end date of the interval.
"COORD" -> UI: Inserts the end date interval.
"COORD" <- - UI : Requests the path to CSV file.
"COORD" -> UI: Inserts path to the file.

UI - -> CTRL : getUsersFullyVaccinatedOnIntervalAndCenter(Date start, Date end).
activate CTRL
activate COMP
CTRL - -> COMP : getUserStore().
deactivate COMP
CTRL - -> COMP : getHealthRecordStore().
activate COMP
deactivate COMP
CTRL - -> COMP : getActorCenter
activate COMP
deactivate COMP
loop
CTRL - -> US : findUserFullyVaccinatedOnIntervalAndCenter(Date start, Date end, VaccinationCenter center)
activate US
US - -> HRS : VerifyFullyVaccinatedOnIntervalAndCenter(Date start, Date end, VaccinationCenter center)
activate HRS
HRS -> US : dateLastAdministration : Date
US -> CTRL : returnList : List<Date>
deactivate HRS
deactivate US
end
CTRL -> UI : dateAndNumberFullyVaccinated : List<String>
loop
UI - -> WF : writeFile.WriteToFile(string : DateAndNumberFullyVaccinated)
activate WF
end
WF - -> UI : informs export success
deactivate WF
"COORD" <- - UI : Informs operation success.
deactivate UI
deactivate COORD


@enduml

@startuml

autonumber


actor "CenterCoordinator" as COORD

participant ":ExportVaccinationStatisticsGUI" as UI
participant ":WriteFile" as WF
participant ":ExportVaccinationStatisticsController" as CTRL
participant ":Company" as COMP
participant ":UserStore" as US
participant ":VaccineAdministrationStore" as HRS

activate COORD

"COORD" -> UI: Asks to export vaccination statistics.

activate UI
"COORD" <- - UI : Requests the start date of the interval.
"COORD" -> UI: Inserts the start date interval.
"COORD" <- - UI : Requests the end date of the interval.
"COORD" -> UI: Inserts the end date interval.
"COORD" <- - UI : Requests the path to CSV file.
"COORD" -> UI: Inserts path to the file.

UI - -> CTRL : getUsersFullyVaccinatedOnIntervalAndCenter(Date start, Date end).
activate CTRL
activate COMP
CTRL - -> COMP : getUserStore().
deactivate COMP
CTRL - -> COMP : getHealthRecordStore().
activate COMP
deactivate COMP
CTRL - -> COMP : getActorCenter
activate COMP
deactivate COMP
loop
CTRL - -> US : findUserFullyVaccinatedOnIntervalAndCenter(Date start, Date end, VaccinationCenter center)
activate US
US - -> HRS : VerifyFullyVaccinatedOnIntervalAndCenter(Date start, Date end, VaccinationCenter center)
activate HRS
HRS -> US : dateLastAdministration : Date
US -> CTRL : returnList : List<Date>
deactivate HRS
deactivate US
end
CTRL -> UI : dateAndNumberFullyVaccinated : List<String>
loop
UI - -> WF : writeFile.WriteToFile(string : DateAndNumberFullyVaccinated)
activate WF
end
WF - -> UI : informs export success
deactivate WF
"COORD" <- - UI : Informs operation success.
deactivate UI
deactivate COORD


@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>