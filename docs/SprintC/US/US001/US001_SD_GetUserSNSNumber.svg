<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="349.3px" preserveAspectRatio="none" style="width:636px;height:349px;background:#FFFFFF;" version="1.1" viewBox="0 0 636 349" width="637px" zoomAndPan="magnify"><defs/><g><rect height="19.3266" style="stroke:#00000000;stroke-width:0.6999999999999998;fill:none;" width="124.6" x="257.425" y="7"/><text fill="#000000" font-family="sans-serif" font-size="9.8" font-weight="bold" lengthAdjust="spacing" textLength="117.6" x="260.925" y="20.6732">SD_GetUserSNSNumber</text><rect fill="#FFFFFF" height="241.8227" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="114.1" y="75.9992"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="251.3" y="181.7375"/><rect fill="#FFFFFF" height="93.1383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="369.6" y="223.9836"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="449.4" y="97.2453"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="520.8" y="139.4914"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="588" y="280.7219"/><rect height="77.7383" style="stroke:#000000;stroke-width:1.0499999999999998;fill:none;" width="315" x="318.15" y="234.4836"/><rect height="55.0922" style="stroke:#000000;stroke-width:1.0499999999999998;fill:none;" width="301" x="325.15" y="252.2297"/><line style="stroke:#181818;stroke-width:0.3499999999999999;fill:none;stroke-dasharray:5.0,5.0;" x1="117.25" x2="117.25" y1="53.3531" y2="324.1219"/><line style="stroke:#181818;stroke-width:0.3499999999999999;fill:none;stroke-dasharray:5.0,5.0;" x1="205.45" x2="205.45" y1="53.3531" y2="324.1219"/><line style="stroke:#181818;stroke-width:0.3499999999999999;fill:none;stroke-dasharray:5.0,5.0;" x1="254.8" x2="254.8" y1="53.3531" y2="324.1219"/><line style="stroke:#181818;stroke-width:0.3499999999999999;fill:none;stroke-dasharray:5.0,5.0;" x1="372.75" x2="372.75" y1="53.3531" y2="324.1219"/><line style="stroke:#181818;stroke-width:0.3499999999999999;fill:none;stroke-dasharray:5.0,5.0;" x1="452.55" x2="452.55" y1="53.3531" y2="324.1219"/><line style="stroke:#181818;stroke-width:0.3499999999999999;fill:none;stroke-dasharray:5.0,5.0;" x1="523.95" x2="523.95" y1="53.3531" y2="324.1219"/><line style="stroke:#181818;stroke-width:0.3499999999999999;fill:none;stroke-dasharray:5.0,5.0;" x1="591.15" x2="591.15" y1="53.3531" y2="324.1219"/><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="132.3" x="51.45" y="30.5266"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="122.5" x="56.35" y="45.5998">:VaccineScheduleController</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="132.3" x="51.45" y="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="122.5" x="56.35" y="338.4951">:VaccineScheduleController</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="30.1" x="190.75" y="30.5266"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="20.3" x="195.65" y="45.5998">:App</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="30.1" x="190.75" y="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="20.3" x="195.65" y="338.4951">:App</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="51.8" x="228.9" y="30.5266"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="42" x="233.8" y="45.5998">Company</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="51.8" x="228.9" y="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="42" x="233.8" y="338.4951">Company</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="81.9" x="332.15" y="30.5266"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="72.1" x="337.05" y="45.5998">store: UserStore</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="81.9" x="332.15" y="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="72.1" x="337.05" y="338.4951">store: UserStore</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="63.7" x="421.05" y="30.5266"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="53.9" x="425.95" y="45.5998">AuthFacade</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="63.7" x="421.05" y="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="53.9" x="425.95" y="338.4951">AuthFacade</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="65.1" x="491.75" y="30.5266"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="55.3" x="496.65" y="45.5998">UserSession</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="65.1" x="491.75" y="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="55.3" x="496.65" y="338.4951">UserSession</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="55.3" x="563.85" y="30.5266"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="45.5" x="568.75" y="45.5998">user :User</text><rect fill="#E2E2F0" height="22.1266" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="55.3" x="563.85" y="323.4219"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacing" textLength="45.5" x="568.75" y="338.4951">user :User</text><rect fill="#FFFFFF" height="241.8227" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="114.1" y="75.9992"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="251.3" y="181.7375"/><rect fill="#FFFFFF" height="93.1383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="369.6" y="223.9836"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="449.4" y="97.2453"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="520.8" y="139.4914"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="588" y="280.7219"/><ellipse cx="5.25" cy="75.4742" fill="none" rx="2.8" ry="2.8" style="stroke:#181818;stroke-width:1.0499999999999998;"/><polygon fill="#181818" points="105.7,73.1992,112.7,75.9992,105.7,78.7992,108.5,75.9992" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="8.4" x2="109.9" y1="75.9992" y2="75.9992"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="10.5" y="72.5997">1</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="87.5" x="18.2" y="72.5997">getUserSNSNumber()</text><polygon fill="#181818" points="441,94.4453,448,97.2453,441,100.0453,443.8,97.2453" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="121.1" x2="445.2" y1="97.2453" y2="97.2453"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="126" y="93.8458">2</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="161" x="133.7" y="93.8458">userSession = getCurrentUserSession()</text><polygon fill="#181818" points="512.4,136.6914,519.4,139.4914,512.4,142.2914,515.2,139.4914" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="121.1" x2="516.6" y1="139.4914" y2="139.4914"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="126" y="136.0919">3</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="95.9" x="133.7" y="136.0919">userEmail = getUserId()</text><polygon fill="#181818" points="242.9,178.9375,249.9,181.7375,242.9,184.5375,245.7,181.7375" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="121.1" x2="247.1" y1="181.7375" y2="181.7375"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="126" y="178.338">4</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="109.2" x="133.7" y="178.338">userStore = getUserStore()</text><polygon fill="#181818" points="361.2,221.1836,368.2,223.9836,361.2,226.7836,364,223.9836" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="121.1" x2="365.4" y1="223.9836" y2="223.9836"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="126" y="220.5841">5</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="227.5" x="133.7" y="220.5841">snsNumber = getUserSNSNumberWithEmail(userEmail)</text><path d="M318.15,234.4836 L369.25,234.4836 L369.25,240.3297 L362.25,247.3297 L318.15,247.3297 L318.15,234.4836 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0499999999999998;"/><rect fill="none" height="77.7383" style="stroke:#000000;stroke-width:1.0499999999999998;" width="315" x="318.15" y="234.4836"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="19.6" x="328.65" y="244.6302">loop</text><text fill="#000000" font-family="sans-serif" font-size="7.7" font-weight="bold" lengthAdjust="spacing" textLength="101.5" x="379.75" y="243.8769">[for each user in userList]</text><path d="M325.15,252.2297 L367.85,252.2297 L367.85,258.0758 L360.85,265.0758 L325.15,265.0758 L325.15,252.2297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0499999999999998;"/><rect fill="none" height="55.0922" style="stroke:#000000;stroke-width:1.0499999999999998;" width="301" x="325.15" y="252.2297"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="335.65" y="262.3763">alt</text><text fill="#000000" font-family="sans-serif" font-size="7.7" font-weight="bold" lengthAdjust="spacing" textLength="118.3" x="378.35" y="261.6229">[if userEmail = user.getEmail()]</text><polygon fill="#181818" points="579.6,277.9219,586.6,280.7219,579.6,283.5219,582.4,280.7219" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="376.6" x2="583.8" y1="280.7219" y2="280.7219"/><text fill="#000000" font-family="sans-serif" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="4.9" x="381.5" y="277.3224">6</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacing" textLength="100.8" x="389.2" y="277.3224">getSnsUserSnsNumber()</text><!--MD5=[5decf7c90f464ec92ea03fa303065861]
@startuml
title SD_GetUserSNSNumber
autonumber
participant ":VaccineScheduleController" as CTRL
participant ":App" as APP
participant "Company" as COMP
participant "store: UserStore" as US
participant "AuthFacade" as AF
participant "UserSession" as USession
participant "user :User" as U


[o-> CTRL : getUserSNSNumber()
activate CTRL
CTRL -> AF : userSession = getCurrentUserSession()
activate AF
deactivate AF
CTRL -> USession : userEmail = getUserId()
activate USession
deactivate USession

CTRL -> COMP : userStore = getUserStore()
activate COMP
deactivate COMP
CTRL -> US : snsNumber = getUserSNSNumberWithEmail(userEmail)
activate US
loop for each user in userList
alt if userEmail = user.getEmail()
US -> U : getSnsUserSnsNumber()
activate U
deactivate U
end alt
end loop
deactivate US

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>